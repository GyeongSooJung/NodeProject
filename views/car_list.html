{% extends 'layout.html' %}

{% block css %}
<link href="../assets/plugins/datatables.net-bs4/css/dataTables.bootstrap4.min.css" rel="stylesheet" />
<link href="../assets/plugins/datatables.net-responsive-bs4/css/responsive.bootstrap4.min.css" rel="stylesheet" />
<link href="../assets/plugins/datatables.net-buttons-bs4/css/buttons.bootstrap4.min.css" rel="stylesheet" />
<link href="../assets/plugins/datatables.net-autofill-bs4/css/autoFill.bootstrap4.min.css" rel="stylesheet" />
<link href="../assets/plugins/datatables.net-colreorder-bs4/css/colReorder.bootstrap4.min.css" rel="stylesheet" />
<link href="../assets/plugins/datatables.net-keytable-bs4/css/keyTable.bootstrap4.min.css" rel="stylesheet" />
<link href="../assets/plugins/datatables.net-rowreorder-bs4/css/rowReorder.bootstrap4.min.css" rel="stylesheet" />
<link href="../assets/plugins/datatables.net-select-bs4/css/select.bootstrap4.min.css" rel="stylesheet" />
{% endblock %}

{% block content %}
<!-- begin #content -->
<div id="content" class="content">
	<!-- begin page-header -->
	<h1 class="page-header">{{__('car_list')}}</h1>
	<!-- end page-header -->
	<!-- begin row -->
	<div class="row">
		<!-- begin col-12 -->
		<div class="col-xl-12">
			<div class="panel panel-inverse">
				<!-- begin panel-heading -->
				<div class="panel-heading">
					<h4 class="panel-title">{{__('car')}}</h4>
				</div>
				<!-- end panel-heading -->
				<!-- begin panel-body -->
				<div class="panel-body">
					
					<div class="mt-2 mb-2 d-flex justify-content-end align-items-center">
	            	<div class="mr-2">
	            		<div class="btn-group m-r-5">
								<a id="searchoption" href="javascript:;" class="btn btn-default">{{__('search')}}</a>
								<a href="#" data-toggle="dropdown" class="btn btn-default dropdown-toggle" aria-expanded="false"><b class="caret"></b></a>
								<div class="dropdown-menu dropdown-menu-right" style="">
									<a href="javascript:searchoption('CN');" class="dropdown-item">{{__('car_number')}}</a>
									<a href="javascript:searchoption('CPN');" class="dropdown-item">{{__('car_customer_phone')}}</a>
								
									<!--<a href="javascript:searchoption('CA');" class="dropdown-item">{{__('create_date')}}</a>-->
								</div>
						</div> 
					</div>
					<div>
						<input id ="searchtext" type="text" class="form-control" placeholder ="" />
						<input id ="searchdatetext" type="date" class="d-none form-control" placeholder ="" />
						
					</div>
					<div>
						<button id ="searchbutton" class="ml-1 btn btn-primary text-white px-1" onclick="searchbutton()"><i class="mx-1 fas fa-lg fa-fw fa-search align-items-center"></i></button></div>
						<a href='javascript:;' id ="gotolist" onclick=gotolist() class='d-none ml-1 btn btn-primary mr-1 px-2'>{{__('return_list')}}</a>
					</div>
					
					<div class="overflow-auto">
						<!--<form action="/car/car_select_delete" method="post">-->
						<form method="post">
							<table id="data-table-combine" class="table table-striped table-bordered table-hover table-td-valign-middle text-center">
								<thead>
									<tr>
										<th width="1%">
											<input type="checkbox" name="allck" class="neHeros" value="" onChange="allCheckedBox(this);"/>
										</th>
										<th width="2.5%"></th>
										<th width="33%" class="sort" name="CN">{{__('car_number')}}<i id = "CN" class="d-none  float-right mx-1 fas fa-lg fa-fw m-t-3 fa-angle-down"></i></th>
										<th width="33%" class="sort" name="CPN">{{__('car_customer_phone')}}<i id = "CPN" class="d-none  float-right mx-1 fas fa-lg fa-fw m-t-3 fa-angle-down"></i></th>
										<th width="30.5%" class="sort" name="CA">{{__('create_date')}}<i id = "CA" class="float-right mx-1 fas fa-lg fa-fw m-t-3 fa-angle-down"></i></th>
										<th width="1%"></th>
									</tr>
								</thead>
								<tbody id="memDiv">
								</tbody>
							</table>
							<div class="d-flex justify-content-between align-item-center">
								<input class="btn btn-primary" type='button' value="{{__('delete_selection')}}" onclick="delete_check();">
								<div id="pagebox" class="justify-content-around align-item-center"></div>
							</div>
						</form>
					</div>
				</div>
				<!-- end panel-body -->
			</div>
		</div>
		<!-- end col-10 -->
	</div>
	<!-- end row -->
</div>
<!-- end #content -->

<!-- Script -->
<script src="http://code.jquery.com/jquery-1.10.2.js"></script>
<script>
	var pagingObject = new Object({array : [], sort : "CA", page : 0, postNum : 10, pageNum : 5, startpage : 0, endpage : 0, search: "", searchtext : ""});
	
	// 검색기능
	$(document).ready(function() {
		
		pagereload() // 첫 화면 페이지 로드
		
		$('#searchtext').keyup(function(key) {
			console.log($(this).val());
			if(key.keyCode == 13) {
				if(pagingObject.search == "")
				alert("{{__('choice_error')}}");
				else {
					pagingObject.searchtext = $(this).val();
					pagereload();
					document.getElementById('gotolist').classList.remove('d-none');
				}
			}
			if($(this).val() == "") {
				pagereload();
			}
		});
		
		$('#searchdatetext').keyup(function(key) {
			console.log($(this).val());
			if(key.keyCode == 13) {
				if(pagingObject.search == "")
				alert("{{__('choice_error')}}");
				else {
					console.log(pagingObject.search);
					pagingObject.searchtext = $(this).val();
					console.log(pagingObject.searchtext);
					pagereload();
					document.getElementById('gotolist').classList.remove('d-none');
					document.getElementById('searchtext').classList.remove('d-none');
					document.getElementById('searchdatetext').classList.add('d-none');
				}
			}
			if($(this).val() == "") {
				pagereload();
			}
		});
		
		$('.sort').click(function() {
			
			$("#searchoption").empty();
	    	$("#searchoption").append("{{__('search')}}");
			
			pagingObject.search = "";
			pagingObject.searchtext = "";
			
			var paglist = pagingObject.array;
			
			var check_sort = $(this).attr('name');
			
			console.log(check_sort);
			console.log(typeof(check_sort));
			
			console.log(document.getElementById(check_sort).classList.contains('d-none'));
			console.log(document.getElementById(check_sort).classList.contains('fa-angle-down'));
			
			 if(document.getElementById(check_sort).classList.contains('d-none')) {
			 	
			 	document.getElementById(check_sort).classList.remove('fa-angle-up');
	    		document.getElementById(check_sort).classList.add('fa-angle-down');
			 	var check2 = check_sort;
			 }
			 else {
			 	if (document.getElementById(check_sort).classList.contains('fa-angle-down')) {
			 		
	    		 	document.getElementById(check_sort).classList.remove('fa-angle-down');
	    		 	document.getElementById(check_sort).classList.add('fa-angle-up');
			 		var check2 = check_sort + "2";
			 	}
			 	else {
			 		
			 		document.getElementById(check_sort).classList.remove('fa-angle-up');
	    		 	document.getElementById(check_sort).classList.add('fa-angle-down');
			 		var check2 = check_sort;
			 		
			 	}
			 }
			 
			 console.log(check2)
			
			document.getElementById('CN').classList.add('d-none');
			document.getElementById('CPN').classList.add('d-none');
			document.getElementById('CA').classList.add('d-none');
			
			
			document.getElementById(check_sort).classList.remove('d-none');
			
			
			pagingObject.array = paglist;
			pagingObject.sort = check2;
			pagingObject.page = 0;
			pagereload();
			
		});
    });
    
    //초기화
    function refresh() {
    	pagingObject.array = [];
    	pagingObject.sort = "CA";
    	pagingObject.page = 0;
    	pagingObject.postNum = 10;
    	pagingObject.pageNum = 5;
    	pagingObject.startpage = 0;
    	pagingObject.endpage = 0;
    	pagingObject.search = "";
    	pagingObject.searchtext = "";
    }
    
    function searchoption(opt) {
    	pagingObject.search = opt;
    	$("#searchoption").empty();
    	var string = opt;
    	if (string == "CN")
    	   string = "{{__('car_number')}}";
    	if (string == "CPN")
    	   string = "{{__('car_customer_phone')}}";
    	if (string == "CA") {
    	   string = "{{__('create_date')}}";
    	   document.getElementById('searchtext').classList.add('d-none');
    	   document.getElementById('searchdatetext').classList.remove('d-none');
    	}
    	$("#searchoption").append(string);
    	$("#searchoption").show();
    }
    
    function searchbutton() {
    	if(pagingObject.search == "")
          alert("{{__('search_option_error')}}");
        else {
        	if(!document.getElementById('searchtext').classList.contains('d-none')) {
				pagingObject.searchtext = $('#searchtext').val();
				pagereload();
				document.getElementById('gotolist').classList.remove('d-none');
        	}else {
        		console.log($('#searchdatetext').val())
        		pagingObject.searchtext = $('#searchdatetext').val();
				pagereload();
				document.getElementById('gotolist').classList.remove('d-none');
        	}
		}
	}
	
	// 전체 목록으로
	function gotolist() {
		refresh();
		pagereload();
		
		$("#searchoption").empty();
		$("#searchoption").append("{{__('search')}}");
		document.getElementById('gotolist').classList.add('d-none');
	}
	
	// 페이지 기능
	function pagebutton(num) {
		pagingObject.page = num;
    	pagereload();
    }
    
	function pageBtn(dir, page) {
		if(dir == 'left') {
			if((pagingObject.page - 1) > -1)
			{
				pagingObject.page -= 1;
				pagereload();
			}
		}
		if(dir == 'right') {
			if((pagingObject.page + 1) < Math.ceil(pagingObject.array.length / pagingObject.postNum))
			{
				pagingObject.page += 1;
				pagereload();
				
			}
			
		}
	}
	
	function pageDoubleBtn(dir, page) {
		if(dir == 'left') {
			if((pagingObject.page - pagingObject.pageNum) < 0) {
				pagingObject.page = 0;
				pagereload();
			}
			else {
				pagingObject.startpage -= 1;
				pagingObject.page -= 5;
				pagereload();
			}
		}
		if(dir == 'right') {
			
			if ((pagingObject.page + pagingObject.pageNum) >= Math.ceil(pagingObject.array.length / pagingObject.postNum))
			{
				pagingObject.page = Math.ceil(pagingObject.array.length / pagingObject.postNum)-1;
				pagereload();
			}
			else {
				pagingObject.startpage += 1;
				pagingObject.page += 5;
				pagereload();
			}
		}
	}
	
		function pagereload() {
			$("input:checkbox[name='allck']").prop("checked", false);
			$("input:checkbox[name='ck']").prop("checked", false);
    	    $.ajax({
	    		url: "/ajax/car_list",
                type: "POST",
                async: false,
                dataType: 'json',
                data: {
                    sort : pagingObject.sort,
                    search : pagingObject.search,
                    searchtext : pagingObject.searchtext
                }
	        }).done(function (data) { 
	        	if(data.result == true) {
	    		    pagingObject.array = data.carlist;
	    		    pagingObject.startpage = Math.floor((pagingObject.page) / pagingObject.pageNum) * pagingObject.pageNum;
	    		    pagingObject.endpage = pagingObject.startpage + pagingObject.pageNum;
	    		    
	    		    var carlist = pagingObject.array; // 전체 리스트
	    		    var carnum = carlist.length; // 전체 리스트의 갯수
	    		    var page = pagingObject.page; // 페이지 번호
	    		    var startPage = pagingObject.startpage; // 시작 페이지
	    		    var endPage = pagingObject.endpage; // 끝 페이지
	    		    var postNum = pagingObject.postNum; // 게시될 페이지 숫자
	    		    var pageNum = pagingObject.pageNum; // 페이지 번호의 갯수
	    		    var totalPage = Math.ceil(carnum/postNum); // 전체 페이지의 갯수
	    		    
	    		    if (endPage > totalPage) { // 끝 페이지가 총 페이지 수보다 많다면 같게끔 처리
				        endPage = totalPage;
				    }
	    		    
		        	//tr 초기화
		        	$("#data-table-combine > tbody > tr").remove();
		        	//페이지 넘버 박스 초기화
			     	$("#pagebox *").remove(); 
			    		
			        var	insertTr = ""; // 채워넣을 HTML 초기화
			     	
			     	var indexcount = 1; // 인덱스번호 초기화
			    		
			    	
			    	
			    	
			     	for (var i = (postNum * page) ; i < (postNum * page) + postNum ; i ++) { // 현재 페이지의 번호에 맞는 리스트 뽑아서 출력 (0 ~ 9, 10 ~ 19)
			     	   if(carlist[i]) {
						  insertTr += "<tr>";
						  insertTr += " 	<td class='with-btn' nowrap>";
						  insertTr += "		<input id='ck' type='checkbox' name ='ck' class='neHeros' value="+ carlist[i].CN +" onChange='eachCheckedBox(this);'/>";
						  insertTr += " 	</td>";
						  insertTr += "<td class='font-weight-bold'>"+(carnum - (page*10)) +" </td>";
						  insertTr += "<td>"+ carlist[i].CN +"</td>";
						  
						  if(!carlist[i].CPN){
						  	insertTr+="<td>"+"N/A"+"</td><td>";
						  }
						  else {
							insertTr += "<td>"+ carlist[i].CPN+"</td><td>";
						  }
						 
					     if ( (moment(carlist[i].CA).format('DD')) == moment().format('DD') )
					     {
					       insertTr +=  moment(carlist[i].CA).format('HH:mm');
					     }
					     else {
					      insertTr += moment(carlist[i].CA).format('YYYY-MM-DD');
					     }
					      insertTr += "</td><td class='with-btn' nowrap>"	
						  insertTr += "<a href='/car_edit/"+carlist[i].CN+"'   class='btn btn-sm btn-primary width-60 m-r-2 edit-btn'>{{__('modify')}}</a>";
						  insertTr += "<input type='button' value='{{__('delete')}}' onclick=delete_one(this) class='btn btn-sm btn-white width-60' name =' "+ carlist[i].CN +"'></td> ";
						  insertTr += "</tr>";
						  carnum -= indexcount;
						  
			     	   }
			     	}
						  
						  $("#memDiv").append(insertTr);
						  insertTr = " ";
				    	  insertTr +=	"<a href='javascript:;' onclick=pageDoubleBtn('left',"+page+") class='btn btn-primary mr-1 px-2'><i class='fas fa-angle-double-left'></i></a>";
						  insertTr +=	"<a href='javascript:;' onclick=pageBtn('left',"+page+") class='btn btn-primary mr-1 px-2'><i class='fas fa-angle-left'></i></a>";
	
							for(var i = startPage; i < endPage; i ++) {
								if(page == i)
									insertTr +=	"<input type='button' onclick='pagebutton("+ i +")' value ='"+ (i+1) +"' class='btn btn-white mr-1 px-2 text-primary' style=' background-color: #00acac; color: white !important;' >";
								else
									insertTr +=	"<input type='button' onclick='pagebutton("+ i +")' value ='"+ (i+1) +"' class='btn btn-white mr-1 px-2 text-primary' >";
							}
							insertTr +=	"<a href='javascript:;' onclick=pageBtn('right',"+page+") class='btn btn-primary mr-1 px-2'><i class='fas fa-angle-right'></i></a>";
							insertTr +=	"<a href='javascript:;' onclick=pageDoubleBtn('right',"+page+") class='btn btn-primary mr-1 px-2'><i class='fas fa-angle-double-right'></i></a>";
						  $("#pagebox").append(insertTr);
						  $("#pagebox").show();
	        	}
	        	
	        	else if (data.result == "nothing") {
	        		alert("{{__('search_error')}}");
	        	}
	        	
	        	else {
	        		alert("{{__('search_error')}}");
	        	}
			});
    }
    
	// 일반 삭제 기능
	function delete_one(obj) {
		
		console.log($(obj).attr('name'));
		var answer;
	    	answer = confirm("{{__('delete_confirm')}}");
		if(answer == true){
			$.ajax({
    		url: "/car/ajax/car_deleteone",
                    type: "POST",
                    dataType: 'json',
                    data: {
                    	select : $(obj).attr('name'),
                    }
	    	}).done(function (data) {  
	    		if(data.result == true) {
	    			alert("{{__('delete_success')}}");
	    			location.reload();
	    		}
	    		else {
	    			alert("{{__('choice_error')}}");
	    		}
	    		
	    	});
		}
		else {
			return false;
		}
	}

	// 선택항목 삭제 기능
	function delete_check(frm) {
		var check = $("input:checkbox[name='ck']").is(":checked");
		if(!check) {
			alert("{{__('choice_error')}}");
		}
		else {
			var select_obj = [];
	        $('input[name="ck"]:checked').each(function (index) {
	                select_obj[index] = $(this).val() ;
	        });
	        console.log(select_obj);
			var answer;
		    	answer = confirm("{{__('delete_confirm')}}");
			if(answer == true){
				$.ajax({
	    		url: "/car/ajax/car_delete",
	                    type: "POST",
	                    dataType: 'json',
	                    data: {
	                    	select : select_obj,
	                    }
		    	}).done(function (data) {  
		    		if(data.result == true) {
		    			alert("{{__('delete_success')}}");
		    			location.reload();
		    		}
		    		else {
		    			alert("{{__('choice_error')}}");
		    		}
		    		
		    	})
	    	
	    	
			}
			else {
				$("input:checkbox[name='allck']").prop("checked", false);
				$("input:checkbox[name='ck']").prop("checked", false);
				return false;
			}
		}
	}
	
	// 전체 선택 기능
	function allCheckedBox(obj) {
	   	// @brief 선택한 체크박스의 클래스 명칭을 가져온다.
	   	const termClass = obj.getAttribute("class");
	   	// @brief 선택한 클래스명과 같은 클래스의 갯수
	   	console.log(document.getElementsByClassName(termClass).length);
	   	Array.prototype.forEach.call(document.getElementsByClassName(termClass), function(element, index, array) {
	        // @brief 엘리먼트의 값 출력
	        console.log(element.value);
	        // @brief 선택한 클래스의 첫번째 checkbox의 상태가 체크가 되있는 경우
	        if(document.getElementsByClassName(termClass)[0].checked == true) {
	            // @brief 같은 클래스명을 가진 모든 checkbox의 상태를 선택 완료 처리 한다.
	            element.checked = true;
	        }
	        // @brief 선택한 클래스의 첫번째 checkbox의 상태가 체크가 해제된 경우
	        else {
	            // @brief 같은 클래스명을 가진 모든 checkbox의 상태를 선택 해제 처리 한다.
	            element.checked = false;
	        }
	   	});
    }

	// 항목 선택 기능
	function eachCheckedBox(obj) {
      // @brief 선택한 체크박스의 상태가 선택해제인 경우
      if(obj.checked == false) {
            // @brief 선택한 체크박스의 클래스 명칭을 가져온다.
            const termClass = obj.getAttribute("class");
            // @brief 첫번째 checkbox의 상태가 체크가 되어있는경우
            if(document.getElementsByClassName(termClass)[0].checked == true) {
                // @brief 첫번째 checkbox의 상태를 체크해제한다.
                document.getElementsByClassName(termClass)[0].checked = false;
            }
        }
    }
	
	
	
	
	
	
	// // 검색 기능
	// $(document).ready(function() {
 //       $("#keyword").keyup(function() {
 //           var k = $(this).val();
 //           $("#data-table-combine > tbody > tr").hide();
 //           var temp = $("#data-table-combine > tbody > tr > td:contains('" + k + "')");

 //           $(temp).parent().show();
 //       })
 //   })

	// function searchbutton() {
	// 	const keyword = document.getElementById('CNkeyword').value;
	// 	location = '/car_list/?CN=' + keyword;
	// }
	
	// // 페이지 기능
	// function pageBtn(dir) {
	// 	if(dir == 'left') {
	// 		location = '/car_list/?page={{currentPage-1}}';
	// 	}
	// 	if(dir == 'right') {
	// 		location = '/car_list/?page={{currentPage+1}}';
	// 	}
	// }
	
	// function pageDoubleBtn(dir) {
	// 	if(dir == 'left') {
	// 		location = '/car_list/?page={{startPage-1}}';
	// 	}
	// 	if(dir == 'right') {
	// 		location = '/car_list/?page={{endPage+1}}';
	// 	}
	// }
	
	// // 일반 삭제 기능
	// function delete_one(ck) {
	// 	var answer;
	// 	var ckc = ck;
	// 	//페이지를 이동하기 전에 confirm()을 사용해 다시 한번 확인한다.
	// 	//확인을 선택하면 answer에  true, 취소를 선택하면 false 값이 들어간다.
	// 	answer = confirm("{{__('delete_confirm')}}");
	// 	//확인을 선택한 경우 자바스크립트를 호출할 때 같이 넘어온 url이라는 변수에 들어있는 주소로 페이지 이동
	// 	if(answer == true){
	// 		location = '/car/car_delete/' + ckc;
	// 	}
	// 	else {
	// 		return false;
	// 	}
	// }
	
	// // 선택항목 삭제 기능
	// function delete_check(frm) {
	// 	var check = $("input:checkbox[name='ck']").is(":checked");
	// 	if(!check) {
	// 		alert("{{__('choice_error')}}");
	// 	}
	// 	else {
	// 		var answer;
	// 		answer = confirm("{{__('delete_confirm')}}");
	// 		if(answer == true){
	// 			frm.action='/car/car_select_delete/'; frm.submit(); return true;
	// 		}
	// 		else {
	// 			$("input:checkbox[name='ck']").prop("checked", false);
	// 			return false;
	// 		}
	// 	}
	// }
	
	// // 전체선택 기능
	// function allCheckedBox(obj) {
	//   	// @brief 선택한 체크박스의 클래스 명칭을 가져온다.
	//   	const termClass = obj.getAttribute("class");
	//   	// @brief 선택한 클래스명과 같은 클래스의 갯수
	//   	console.log(document.getElementsByClassName(termClass).length);
	//   	Array.prototype.forEach.call(document.getElementsByClassName(termClass), function(element, index, array) {
 //       	// @brief 엘리먼트의 값 출력
	//         console.log(element.value);
	//         // @brief 선택한 클래스의 첫번째 checkbox의 상태가 체크가 되있는 경우
	//         if(document.getElementsByClassName(termClass)[0].checked == true) {
	//             // @brief 같은 클래스명을 가진 모든 checkbox의 상태를 선택 완료 처리 한다.
	//             element.checked = true;
	//         }
	//         // @brief 선택한 클래스의 첫번째 checkbox의 상태가 체크가 해제된 경우
	//         else {
	//             // @brief 같은 클래스명을 가진 모든 checkbox의 상태를 선택 해제 처리 한다.
	//             element.checked = false;
	//         }
	//   	});
 //   }

	// // 항목선택 기능
	// function eachCheckedBox(obj) {
 //     // @brief 선택한 체크박스의 상태가 선택해제인 경우
 //     if(obj.checked == false) {
 //           // @brief 선택한 체크박스의 클래스 명칭을 가져온다.
 //           const termClass = obj.getAttribute("class");
 //           // @brief 첫번째 checkbox의 상태가 체크가 되어있는경우
 //           if(document.getElementsByClassName(termClass)[0].checked == true) {
 //               // @brief 첫번째 checkbox의 상태를 체크해제한다.
 //               document.getElementsByClassName(termClass)[0].checked = false;
 //           }
 //       }
 //   }
    
 //   // 에러 링크 기능
	// window.onload = () => {
	// 	if (new URL(location.href).searchParams.get('null')) {
	// 		alert("{{__('choice_error')}}");
	// 	}
	// 	if (new URL(location.href).searchParams.get('searcherror')) {
	// 		alert("{{__('search_error')}}");
	// 	}
	// 	// if (new URL(location.href).searchParams.get('length')) {
	// 	// 	alert("{{__('car_length_error')}}");
	// 	// }
	// 	// if (new URL(location.href).searchParams.get('type')) {
	// 	// 	alert("{{__('car_type_error')}}");
	// 	// }
	// 	// if (new URL(location.href).searchParams.get('exist')) {
	// 	// 	alert("{{__('car_exist_error')}}");
	// 	// }
	// }
</script>
{% endblock %}

{% block script %}
<script src="../assets/plugins/datatables.net/js/jquery.dataTables.min.js"></script>
<script src="../assets/plugins/datatables.net-bs4/js/dataTables.bootstrap4.min.js"></script>
<script src="../assets/plugins/datatables.net-responsive/js/dataTables.responsive.min.js"></script>
<script src="../assets/plugins/datatables.net-responsive-bs4/js/responsive.bootstrap4.min.js"></script>
<script src="../assets/plugins/datatables.net-colreorder/js/dataTables.colReorder.min.js"></script>
<script src="../assets/plugins/datatables.net-colreorder-bs4/js/colReorder.bootstrap4.min.js"></script>
<script src="../assets/plugins/datatables.net-keytable/js/dataTables.keyTable.min.js"></script>
<script src="../assets/plugins/datatables.net-keytable-bs4/js/keyTable.bootstrap4.min.js"></script>
<script src="../assets/plugins/datatables.net-rowreorder-bs4/js/rowReorder.bootstrap4.min.js"></script>
<script src="../assets/plugins/datatables.net-buttons/js/dataTables.buttons.min.js"></script>
<script src="../assets/plugins/datatables.net-buttons-bs4/js/buttons.bootstrap4.min.js"></script>
<script src="../assets/plugins/datatables.net-buttons/js/buttons.colVis.min.js"></script>
<script src="../assets/plugins/datatables.net-buttons/js/buttons.flash.min.js"></script>
<script src="../assets/plugins/datatables.net-buttons/js/buttons.html5.min.js"></script>
<script src="../assets/plugins/datatables.net-buttons/js/buttons.print.min.js"></script>
<script src="../assets/plugins/pdfmake/build/pdfmake.min.js"></script>
<script src="../assets/plugins/pdfmake/build/vfs_fonts.js"></script>
<script src="../assets/plugins/jszip/dist/jszip.min.js"></script>

<!--<script src="../assets/js/demo/table-manage-combine.demo.js"></script>-->
{% endblock %}