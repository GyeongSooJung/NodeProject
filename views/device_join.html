{% extends 'layout.html' %}

{% block content %}
<div id="content" class="content">
	<!-- begin page-header -->
	<h1 class="page-header">{{__('layout_device_register')}}</h1>
	<!-- end page-header -->
	<!-- begin row -->
	<div class="row">
		<!-- begin col-6 -->
		<div class="col-xl-12">
			<!-- begin panel -->
			<div class="panel panel-inverse" data-sortable-id="form-validation-1">
				<!-- begin panel-heading -->
				<div class="panel-heading d-flex justify-content-between">
					<h4 class="panel-title">{{__('device')}}</h4>
				</div>
				<!-- end panel-heading -->
				<!-- begin panel-body -->
				<div class="panel-body">
					<form id="device-form" action="/device/device_join" method="post" class="form-horizontal" data-parsley-validate="true" name="device-form">
					
						<div class="form-group row m-b-15">
							<label class="col-md-4 col-sm-4 col-form-label" for="MD">{{__('device_model')}} * :</label>
							<div class="col-md-8 col-sm-8">
								<input class="form-control" type="text" id="MD" name="MD" placeholder="{{__('device_model_enter')}}" data-parsley-required="true" data-parsley-error-message="{{__('required_detail')}}"/>
							</div>
						</div>
						<div class="form-group row m-b-15">
							<label class="col-md-4 col-sm-4 col-form-label" for="VER">{{__('device_version')}} * :</label>
							<div class="col-md-8 col-sm-8">
								<input class="form-control" type="Number" id="VER" name="VER" placeholder="{{__('device_version_enter')}}" data-parsley-required="true" data-parsley-error-message="{{__('required_detail')}}"/>
							</div>
						</div>
						<div class="form-group row m-b-15">
							<label class="col-md-4 col-sm-4 col-form-label" for="MAC">{{__('device_mac')}} * :</label>
							<div class="col-md-8 col-sm-8">
								<input class="form-control" type="String" id="MAC" name="MAC" onKeypress ="this.value = setComma(this.value)" placeholder="{{__('device_mac_enter')}}" minlength=17 maxlength=17 data-parsley-required="true" data-parsley-error-message="{{__('required_detail')}}"/>
							</div>
						</div>
						<div class="form-group row m-b-15">
							<label class="col-md-4 col-sm-4 col-form-label" for="NN">{{__('device_nick')}} :</label>
							<div class="col-md-8 col-sm-8">
								<input class="form-control" type="String" id="NN" name="NN" placeholder="{{__('device_nick_enter')}}" />
							</div>
						</div>
						<div class="form-group row m-b-0">
							<label class="col-md-4 col-sm-4 col-form-label">&nbsp;</label>
							<div class="col-md-8 col-sm-8">
								<button type="submit" class="btn btn-primary width-80">{{__('registration')}}</button>
								<button type="reset" class="btn btn-primary width-80">{{__('reset')}}</button>
							</div>
						</div>
					</form>
				</div>
				<!-- end panel-body -->
			</div>
			<!-- end panel -->
		</div>
	</div>
	<!-- end row -->
</div>

<!-- Script -->
<script>
	// MAC주소 콜론 기능
	function setComma(str){
		//var MAC =document.getElementById('MAC')
		if((Number(str.length) % 3) ==2) {
			if(Number(str.length) == 17) {
				return str;
			}
			return str+":";
		}
		return str;
	}
	
	// 에러 링크 기능
	window.onload = () => {
		if (new URL(location.href).searchParams.get('exist')) {
			alert("{{__('device_duplicated')}}");
		}
		if (new URL(location.href).searchParams.get('type')) {
			alert("{{__('device_mac_wrong')}}");
		}
	};

	// 폼 enter키 submit 막기
	document.addEventListener('keydown', function(event) {
		if (event.keyCode === 13) {
			event.preventDefault();
		}
	}, true);
</script>

{% endblock %}
<script>


</script>
{% block script %}
<script src="../assets/plugins/parsleyjs/dist/parsley.min.js"></script>
<script src="../assets/plugins/highlight.js/highlight.min.js"></script>
<script src="../assets/js/demo/render.highlight.js"></script>
{% endblock %}